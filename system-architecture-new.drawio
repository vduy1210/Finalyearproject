<mxfile host="app.diagrams.net" modified="2025-11-18T00:00:00.000Z" agent="Mozilla/5.0" version="24.7.17" type="device">
  <diagram id="SystemArchitecture" name="System Architecture">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;Sale Management System Architecture&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="527" y="20" width="600" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="clientLayer" value="&lt;b&gt;CLIENT LAYER&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="80" y="90" width="1480" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="desktopApp" value="&lt;b&gt;Desktop Application&lt;/b&gt;&lt;br&gt;(Java Swing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="120" y="140" width="200" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="desktopFeatures" value="• Order Management&lt;br&gt;• Product Management&lt;br&gt;• User Management&lt;br&gt;• Customer Management&lt;br&gt;• Revenue Reports&lt;br&gt;• Tier Configuration" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="340" y="140" width="150" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="webFrontend" value="&lt;b&gt;Web Application&lt;/b&gt;&lt;br&gt;(React 19)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="140" width="200" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="webFeatures" value="• Menu Display&lt;br&gt;• Shopping Cart&lt;br&gt;• Order Placement&lt;br&gt;• User Login&lt;br&gt;• Order History&lt;br&gt;• Product Management&lt;br&gt;• Notifications" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="130" width="150" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="mobileApp" value="&lt;b&gt;Mobile App&lt;/b&gt;&lt;br&gt;(Future)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;fontColor=#333333;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1320" y="140" width="200" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="desktopToDb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="desktopApp" target="databaseLayer">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="500" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="desktopToDbLabel" value="JDBC" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#007FFF;" vertex="1" connectable="0" parent="desktopToDb">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="webToBackend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="webFrontend" target="apiLayer">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="webToBackendLabel" value="HTTP/REST API&lt;br&gt;Port 3000 to 8081" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#007FFF;" vertex="1" connectable="0" parent="webToBackend">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="apiLayer" value="&lt;b&gt;BACKEND LAYER&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="520" y="320" width="640" height="280" as="geometry"/>
        </mxCell>
        <mxCell id="springBoot" value="&lt;b&gt;Spring Boot Backend&lt;/b&gt;&lt;br&gt;(Java 21, Port 8081)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="560" y="370" width="560" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="controllers" value="&lt;b&gt;REST Controllers&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;fontSize=11;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="560" y="450" width="560" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="userController" value="UserController&lt;br&gt;/api/users" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="475" width="140" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="productController" value="ProductController&lt;br&gt;/api/products" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="740" y="475" width="140" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="orderController" value="OrderController&lt;br&gt;/api/orders" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="900" y="475" width="140" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="repositories" value="&lt;b&gt;JPA Repositories&lt;/b&gt;&lt;br&gt;UserRepository | ProductRepository | OrderRepository | CustomerRepository" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="540" width="560" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="controllerToRepo" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;dashed=1;" edge="1" parent="1" source="controllers" target="repositories">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="databaseLayer" value="&lt;b&gt;DATABASE LAYER&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="80" y="660" width="1480" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="mysqlDb" value="&lt;b&gt;MySQL Database&lt;/b&gt;&lt;br&gt;(shopdb - Port 3306)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="740" y="710" width="200" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="tables1" value="&lt;b&gt;Core Tables&lt;/b&gt;&lt;br&gt;• users&lt;br&gt;• products&lt;br&gt;• customers&lt;br&gt;• customer_tiers" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="120" y="710" width="140" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="tables2" value="&lt;b&gt;Order Tables&lt;/b&gt;&lt;br&gt;• app_order&lt;br&gt;• app_order_details&lt;br&gt;• web_order&lt;br&gt;• web_order_details" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="280" y="710" width="150" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="tables3" value="&lt;b&gt;File Storage&lt;/b&gt;&lt;br&gt;• /uploads/&lt;br&gt;• Product Images" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1000" y="710" width="150" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="backendToDb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" edge="1" parent="1" source="repositories" target="mysqlDb">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="backendToDbLabel" value="JPA/Hibernate" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#007FFF;" vertex="1" connectable="0" parent="backendToDb">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="techStack" value="&lt;b&gt;TECHNOLOGY STACK&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="80" y="900" width="380" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="techDetails" value="&lt;b&gt;Frontend:&lt;/b&gt;&lt;br&gt;React 19.1.0&lt;br&gt;Material-UI 7.2.0&lt;br&gt;React Router 7.6.3&lt;br&gt;Port: 3000&lt;br&gt;&lt;br&gt;&lt;b&gt;Backend:&lt;/b&gt;&lt;br&gt;Spring Boot 3.5.3&lt;br&gt;Java 21&lt;br&gt;Spring Data JPA&lt;br&gt;Port: 8081&lt;br&gt;&lt;br&gt;&lt;b&gt;Desktop:&lt;/b&gt;&lt;br&gt;Java Swing&lt;br&gt;JDBC Connection&lt;br&gt;&lt;br&gt;&lt;b&gt;Database:&lt;/b&gt;&lt;br&gt;MySQL 8.0+&lt;br&gt;Port: 3306" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="930" width="340" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="features" value="&lt;b&gt;KEY FEATURES&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="500" y="900" width="380" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="featuresList" value="&lt;b&gt;Order Management:&lt;/b&gt;&lt;br&gt;Desktop and Web ordering&lt;br&gt;Real-time stock management&lt;br&gt;Table number assignment&lt;br&gt;&lt;br&gt;&lt;b&gt;Customer Management:&lt;/b&gt;&lt;br&gt;Tier system&lt;br&gt;Accumulated points tracking&lt;br&gt;Discount calculation&lt;br&gt;&lt;br&gt;&lt;b&gt;Product Management:&lt;/b&gt;&lt;br&gt;CRUD operations&lt;br&gt;Image upload&lt;br&gt;Stock tracking&lt;br&gt;&lt;br&gt;&lt;b&gt;Reporting:&lt;/b&gt;&lt;br&gt;Revenue analytics&lt;br&gt;Order statistics&lt;br&gt;Customer insights" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="520" y="930" width="340" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="pattern" value="&lt;b&gt;ARCHITECTURE PATTERN&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=top;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="920" y="900" width="640" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="patternDetails" value="&lt;b&gt;Hybrid Architecture&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Desktop App (Monolithic):&lt;/b&gt;&lt;br&gt;Direct JDBC connection&lt;br&gt;Tightly coupled layers&lt;br&gt;DAO pattern&lt;br&gt;&lt;br&gt;&lt;b&gt;Web App (3-Tier):&lt;/b&gt;&lt;br&gt;Presentation Layer (React)&lt;br&gt;Business Logic (Spring Boot)&lt;br&gt;Data Access (JPA/MySQL)&lt;br&gt;RESTful API communication&lt;br&gt;&lt;br&gt;&lt;b&gt;Security:&lt;/b&gt;&lt;br&gt;CORS enabled&lt;br&gt;Authentication via login&lt;br&gt;Role-based access&lt;br&gt;&lt;br&gt;&lt;b&gt;Data Flow:&lt;/b&gt;&lt;br&gt;Web: Client to API to Service to Repository to DB&lt;br&gt;Desktop: View to DAO to DB" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="930" width="600" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="networkInfo" value="&lt;b&gt;Network Configuration&lt;/b&gt;&lt;br&gt;Backend API: localhost:8081&lt;br&gt;Frontend Dev: localhost:3000&lt;br&gt;Database: localhost:3306&lt;br&gt;File Upload: /uploads/ directory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=10;align=left;verticalAlign=top;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1200" y="710" width="340" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="apiEndpoints" value="&lt;b&gt;REST API Endpoints (10 total)&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Users:&lt;/b&gt; POST /api/users/login&lt;br&gt;&lt;br&gt;&lt;b&gt;Products:&lt;/b&gt;&lt;br&gt;GET /api/products&lt;br&gt;GET /api/products/{id}&lt;br&gt;PUT /api/products/{id}&lt;br&gt;PUT /api/products/{id}/stock&lt;br&gt;POST /api/products/{id}/image&lt;br&gt;GET /api/products/test-upload&lt;br&gt;GET /api/products/{id}/check-image&lt;br&gt;&lt;br&gt;&lt;b&gt;Orders:&lt;/b&gt;&lt;br&gt;POST /api/orders&lt;br&gt;GET /api/orders/user/{userId}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;align=left;verticalAlign=top;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1060" y="475" width="240" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="legend" value="&lt;b&gt;LEGEND&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1320" y="320" width="240" height="280" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1340" y="355" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legendLabel1" value="Client Applications" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="350" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1340" y="390" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legendLabel2" value="Backend Services" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="385" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem3" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=5;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1340" y="425" width="30" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendLabel3" value="Database" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="425" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1340" y="465" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legendLabel4" value="File Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="460" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem5" value="" style="endArrow=classic;html=1;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1340" y="510" as="sourcePoint"/>
            <mxPoint x="1370" y="510" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legendLabel5" value="Data Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="495" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem6" value="" style="endArrow=classic;html=1;strokeWidth=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1340" y="545" as="sourcePoint"/>
            <mxPoint x="1370" y="545" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legendLabel6" value="Method Call" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="530" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legendItem7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;dashed=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1340" y="570" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legendLabel7" value="Future Feature" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1380" y="565" width="160" height="30" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
